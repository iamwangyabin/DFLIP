model:
  base_model: "vit_small_patch14_dinov2"
  cache_dir: "./models_cache"
  freeze_encoder: false
  use_lora: false

bhep:
  num_families: 27
  num_versions: 1386

data:
  # Dataset paths
  metadata_path: "./assets/dflip3k_meta.json"
  image_root: "/media/DATASET/person_data/dflip3k"

  # HuggingFace Datasets backend (optional)
  use_hf_dataset: false
  hf_dataset_path: null
  
  # Auto-split validation from training set
  val_split_ratio: 0.1
  val_split_seed: 42
  
  # Data augmentation
  image_size: 518
  augmentation:
    horizontal_flip: true
    rotation_range: 15
    brightness_range: 0.1
    contrast_range: 0.1
  
  # Dataloader settings
  num_workers: 8
  pin_memory: true

training:
  batch_size: 24
  gradient_accumulation_steps: 2
  num_epochs: 20

  optimizer: "adamw"
  learning_rate: 2.0e-4
  weight_decay: 0.01
  adam_beta1: 0.9
  adam_beta2: 0.999
  adam_epsilon: 1.0e-8

  lr_scheduler_type: "cosine"
  warmup_ratio: 0.1

  # Loss weights for three heads
  loss_weights:
    detection: 1.0
    family: 1.0
    version: 1.0

  fp16: false
  bf16: true

  save_strategy: "epoch"
  save_total_limit: 3
  output_dir: "./checkpoints/baseline_3heads"

  logging_steps: 50
  eval_strategy: "epoch"

logging:
  # Use SwanLab as logging backend
  backend: "swanlab"
  
  # SwanLab configuration
  swanlab_project: "dflip3k"
  swanlab_experiment_name: 'baseline-dino2small-3heads'
  
  # Legacy WandB support (disabled)
  use_wandb: false
  wandb_project: "dflip3k"
  wandb_entity: null
  
  log_level: "INFO"

hardware:
  seed: 42
  cuda_deterministic: true
  dataloader_num_workers: 8
  
  ddp: false
  local_rank: -1
  
  use_deepspeed: false
  deepspeed_config: null